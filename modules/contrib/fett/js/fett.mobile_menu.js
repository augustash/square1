!function(t,i,e){"use strict";Drupal.behaviors.fettMobileMenu={$wrapper:null,$menu:null,$links:null,$trail:null,animating:!1,transitionDelay:500,attach:function(i,e){var n=this;t("div.mobile-menu-wrapper",i).once("fett-mobile-menu").each(function(){n.$wrapper=t(this),n.$trail=t(".mobile-menu-trail",n.$wrapper),n.$menu=t(".mobile-menu",n.$wrapper),n.$links=t("li.children > a, li.children > span",n.$menu),n.init()})},init:function(){this.$links.on("click",this.linkClick.bind(this)),this.trailBuild()},linkClick:function(i){var e,n=this;i.preventDefault(),n.animating||(n.animating=!0,e=t(i.currentTarget).next("ul").attr("data-level"),t(i.currentTarget).parent("li").addClass("active-trail"),n.$menu.attr("data-depth",e),n.trailBuild(),setTimeout(function(){n.animating=!1},n.transitionDelay))},trailBuild:function(){var i=this,e=0,n=[{text:"All",level:e++}],a=[];t("li.active-trail.children > a, li.active-trail.children > span",this.$menu).each(function(){n.push({text:t(this).text(),level:e++})}),this.$trail.html(""),n.forEach(function(e){var n=t('<a href="#">'+e.text+"</a>").appendTo(i.$trail).on("click",function(t){t.preventDefault(),i.levelRevert(e.level),i.trailClean(a,e.level)});a.push(n)})},trailClean:function(t,i){t.forEach(function(t,e){i<e&&t.remove()})},levelRevert:function(i){var e=this;e.animating=!0,e.$menu.attr("data-depth",i),setTimeout(function(){t('ul[data-level="'+i+'"] li.active-trail').removeClass("active-trail"),e.animating=!1},e.transitionDelay)}}}(jQuery,window,document);
//# sourceMappingURL=fett.mobile_menu.js.map
